@multiarg futon5/devmap
@title FUTON5 Development Map ‚Äî Design Patterns for Improvisation
@audience futon-devs, improviser-agents, future-you
@tone formal-analytic
@style roadmap
@factor Concentration (samƒÅdhi)
@IFR: FUTON5 builds and collects general-purpose design patterns for
improvisation, with several demonstrator instances.
@state Nonstarter spec drafted with reference implementation in progress.
Wiring diagrams operational with CT interpretation. MetaCA demonstrator running.
Transfer from MetaCA to ants proven. Gaps: Nonstarter futon-stack deployment
not yet running; dynamic programming for sequencing not implemented.
@next Complete Nonstarter futon-stack deployment; implement dynamic programming
for action sequencing in music domain.

## The Argument

FUTON5 builds and collects general-purpose design patterns for improvisation,
with several demonstrator instances. Nonstarter is a crowdfunding specification
where donations go to a shared pool and crowd voting determines allocation,
with mechanisms to prevent popularity capture. One demo deployment of Nonstarter
tracks the investment of energy into the development of the futon stack.
Patterns in futon5 have a category-theoretic interpretation as wiring diagrams.
MetaCA is a demonstrator domain where wiring diagrams control how cellular
automata evolve. The transfer milestone proves wiring diagrams developed in one
domain work in another‚Äîfor example, from MetaCA to the ant simulation in futon2.
Dynamic programming manages sequencing of actions in demonstration domains
including music.


! instantiated-by: Prototype 0 ‚Äî Nonstarter Specification [üé∂/Â∑± üî•/‰∏ñ]
  :maturity :active
  :depends-on []
  :evidence-for-active [Spec drafted; reference implementation in progress]

  + context: Nonstarter is a crowdfunding specification for pool-based allocation.
  + IF: You want crowdfunding where the crowd decides allocation rather than donors picking projects
  + HOWEVER: Traditional crowdfunding ties donations to specific projects
  + THEN: Pool donations, let crowd vote on allocation, auto-fund when threshold met, decay votes to prevent popularity capture
  + BECAUSE: Pool-based allocation with vote decay resists capture and funds unlikely ideas

  + EVIDENCE:
    evidence[docs/nonstarter_spec.md defines pool funding, voting, auto-funding, governance]
    evidence[docs/nonstarter-adapter-contract.md defines adapter interface]
    evidence[docs/nonstarter-terminal-vocabulary.md defines terminal concepts]
    evidence[scripts/nonstarter_propose.clj implements proposal logic]

  + NEXT-STEPS:
    next[Complete reference implementation]
    next[Test voting and auto-funding mechanics]
    next[Document governance primitives]

  :success-criteria
    pass[Pool funding operational]
    pass[Voting with decay implemented]
    pass[Auto-funding triggers correctly]
    fail[Popularity capture occurs]

  :psr-example "Selected Nonstarter for futon-stack funding because pool allocation resists capture"
  :pur-template "Nonstarter event {{type}}, pool: {{balance}}, proposals: {{count}}"


! instantiated-by: Prototype 1 ‚Äî Nonstarter Futon-Stack Deployment [üå≤/‰π† üî•/Â∑±]
  :maturity :greenfield
  :depends-on [f5/P0]
  :evidence-for-active [Deployment tracking energy investment into futon stack]

  + context: One demo deployment of Nonstarter tracks energy investment into the futon stack.
  + IF: You want to track how effort is allocated across futon development
  + HOWEVER: No current mechanism tracks energy investment with Nonstarter mechanics
  + THEN: Deploy Nonstarter instance for futon stack; track contributions, votes, and funded work
  + BECAUSE: Eating your own cooking validates the specification

  + EVIDENCE:
    evidence[Nonstarter spec available]
    evidence[Futon stack has trackable work items]

  + NEXT-STEPS:
    next[Set up Nonstarter instance for futon stack]
    next[Define proposal categories for futon work]
    next[Track energy investment over time]

  :success-criteria
    pass[Nonstarter instance running for futon stack]
    pass[Energy investment tracked]
    pass[Allocation decisions made via voting]
    fail[Deployment not operational]

  :psr-example "Selected futon-stack deployment for Nonstarter validation because self-hosting proves viability"
  :pur-template "Futon energy {{period}}, invested: {{hours}}, allocated: {{distribution}}"


! instantiated-by: Prototype 2 ‚Äî Wiring Diagrams as Patterns [üå≤/ÂΩí üîÉ/‰ªä]
  :maturity :active
  :depends-on []
  :evidence-for-active [CT interpretation documented; wiring diagrams operational in MetaCA]

  + context: Patterns in futon5 have a category-theoretic interpretation as wiring diagrams.
  + IF: You want patterns that compose and transfer between domains
  + HOWEVER: Informal patterns lack compositional semantics
  + THEN: Interpret patterns as wiring diagrams with CT semantics; components are morphisms, composition is diagram gluing
  + BECAUSE: Wiring diagrams give patterns precise compositional meaning that transfers across domains

  + EVIDENCE:
    evidence[Wiring diagrams implemented in src/futon5/wiring/]
    evidence[Hexagram-to-wiring mapping in src/futon5/wiring/hexagram.clj]
    evidence[Runtime executes wiring diagrams as CA rules]
    evidence[256 exotypes documented in futon3/library/iiching/]

  + NEXT-STEPS:
    next[Document CT interpretation formally]
    next[Add more wiring diagram primitives]
    next[Test composition laws]

  :success-criteria
    pass[Wiring diagrams compose correctly]
    pass[CT interpretation consistent]
    pass[Diagrams transfer between domains]
    fail[Composition breaks semantics]

  :psr-example "Selected wiring diagrams for pattern representation because CT gives compositional semantics"
  :pur-template "Wiring diagram {{id}}, components: {{count}}, composed: {{yes|no}}"


! instantiated-by: Prototype 3 ‚Äî MetaCA Demonstrator [üîÉ/Â∑± üî∫/‰ªä]
  :maturity :active
  :depends-on [f5/P2]
  :evidence-for-active [MetaCA running; wiring diagrams control CA evolution; test sheet generated]

  + context: MetaCA is a demonstrator domain where wiring diagrams control how cellular automata evolve.
  + IF: You want a computational substrate for testing pattern evolution
  + HOWEVER: Abstract patterns need concrete execution environments
  + THEN: Use MetaCA as demonstrator where wiring diagrams define local evolution rules; global constraints from AIF
  + BECAUSE: MetaCA provides executable semantics for wiring diagram patterns

  + EVIDENCE:
    evidence[src/futon5/ca/core.clj implements CA mechanics]
    evidence[src/futon5/wiring/runtime.clj executes wiring diagrams as CA rules]
    evidence[scripts/hexagram_wiring_sheet.clj generates test sheet for 64 hexagram wirings]
    evidence[Pattern failure detectors (BARCODE, CANDYCANE) implemented]

  + NEXT-STEPS:
    next[Expand wiring diagram vocabulary]
    next[Add more failure detectors]
    next[Document MetaCA semantics]

  :success-criteria
    pass[Wiring diagrams execute as CA rules]
    pass[Pattern evolution observable]
    pass[Failure modes detectable]
    fail[Diagrams do not execute]

  :psr-example "Selected MetaCA as demonstrator because CA provides executable pattern semantics"
  :pur-template "MetaCA run {{id}}, generations: {{gen}}, entropy: {{entropy}}, failures: {{fails}}"


! instantiated-by: Prototype 4 ‚Äî Transfer Milestone [üî∫/Âè¶ ‚û∞/‰∏Ä]
  :maturity :settled
  :depends-on [f5/P2, f5/P3]
  :evidence-for-settled [Wiring diagrams transfer from MetaCA to ant simulation in futon2]

  + context: The transfer milestone proves wiring diagrams developed in one domain work in another.
  + IF: You want confidence that patterns are genuinely transferable
  + HOWEVER: Transfer claims need demonstration, not just assertion
  + THEN: Develop wiring diagrams in MetaCA, apply them to ant simulation in futon2, document results
  + BECAUSE: Proven transfer validates the pattern approach

  + EVIDENCE:
    evidence[Wiring diagrams from MetaCA applied to futon2 ants]
    evidence[Same diagram semantics work in both domains]
    evidence[futon2 AIF engine can consume futon5 patterns]

  + NEXT-STEPS:
    next[Document additional transfer examples]
    next[Test transfer to music domain]

  :success-criteria
    pass[Diagrams developed in MetaCA work in ants]
    pass[Transfer documented with evidence]
    pass[Semantics preserved across domains]
    fail[Transfer requires domain-specific changes]

  :psr-example "Selected transfer milestone for validation because transfer proves pattern generality"
  :pur-template "Transfer {{pattern}}, source: {{src}}, target: {{tgt}}, result: {{pass|fail}}"


! instantiated-by: Prototype 5 ‚Äî Dynamic Programming for Action Sequencing [üé∂/Â∑± üå≤/‰ªä]
  :maturity :greenfield
  :depends-on [f5/P2]
  :evidence-for-active [DP implemented for action sequencing; music domain operational]

  + context: Dynamic programming manages sequencing of actions in demonstration domains including music.
  + IF: You want optimal or near-optimal action sequences in improvisation
  + HOWEVER: Naive sequencing ignores structure and dependencies
  + THEN: Use dynamic programming to compute action sequences; apply to music and other demonstration domains
  + BECAUSE: DP provides principled sequencing that respects constraints

  + EVIDENCE:
    evidence[DP concepts documented]
    evidence[Music domain identified as target]

  + NEXT-STEPS:
    next[Implement DP for action sequencing]
    next[Apply to music improvisation]
    next[Test on other domains]

  :success-criteria
    pass[DP produces valid action sequences]
    pass[Music domain operational]
    pass[Sequencing respects constraints]
    fail[Sequences violate domain constraints]

  :psr-example "Selected dynamic programming for sequencing because DP respects structure"
  :pur-template "DP sequence {{domain}}, actions: {{count}}, optimal: {{yes|no}}"
