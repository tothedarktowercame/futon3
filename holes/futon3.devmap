@multiarg futon3/devmap
@title FUTON3 Development Map ‚Äî Flexiformal Proofwork & Pattern Checking
@audience futon-devs, sandbox-agents, future-you
@tone formal-analytic
@style roadmap
@factor Joy / Rapture (pƒ´ti)
@IFR: FUTON3 turns messy activity into organised knowledge by checking work
against shared patterns and producing auditable records that other futons can
use to learn, improve, and act.
@state (2026-02-09) FUTON3 is now split across three repos: futon3 (MUSN transport
and canonical pattern library), futon3a (query + similarity field), futon3b
(coordination gate pipeline + proof-path store + Level 1 glacial loop), futon3c
(real-time social coordination). The split is recorded in holes/war-room.md.
Gate pipeline + glacial loop are implemented and test-verified in futon3b.
The social pattern-set for futon3c is now specified as library/realtime/*.flexiarg.
@next Wire futon3 transport/entrypoints to the futon3b gate pipeline; integrate
futon3a similarity/portal search into G3 pattern selection; bring futon3c social
patterns + war-room into the evidence chain; standardise proof-path ‚Üí graph/energy
exports across futon1/futon2.

## The Argument

FUTON3 turns messy activity into organised knowledge by checking work against
shared patterns and producing auditable records. The MUSN transport provides
stable IO contracts for pattern-related checking with deterministic transcripts.
The pattern canon stores patterns with metadata and devmap links in futon1
storage (with the authoritative filesystem library living in futon3). The
primary "check DSL" is now a coordination gate pipeline (G5‚ÜíG0) operating over
typed evidence records, producing a proof-path that is durable and queryable.
Level 1 (glacial) observes accumulated proof-paths for tensions and canonizes
new patterns back into the library (Baldwin cycle). The similarity field (futon3a)
enables pattern suggestions and is a pending integration into G3. Joy metrics,
proof hooks, training ground, and system self-description remain as downstream
prototypes, now distributed across the split.

## Three-Futon Split (Evidence-Based)

As of 2026-02-09 the original "futon3" scope is implemented as:

- futon3a = query + similarity field (pattern indexing / portal / compass)
- futon3b = task coordination boundary (G5‚ÜíG0) + glacial loop (L1 observe/canon)
- futon3c = social/realtime coordination layer (pattern set in library/realtime; implementation repo may be separate)

  + EVIDENCE:
    evidence[holes/war-room.md (WR-1/WR-2 define the split and canonical library location)]
    evidence[library/coordination/ARGUMENT.flexiarg (gate pipeline argument)]
    evidence[library/realtime/*.flexiarg (social/realtime pattern set for futon3c)]
    evidence[futon3b/AGENTS.md Phase 0-3 verification + test tables]
    evidence[futon3b: clojure -X:test passes (31 tests, 109 assertions) in current main]
    evidence[futon3c repo may have local copies for tests but should not diverge from futon3/library per WR-2]


! instantiated-by: Prototype 0 ‚Äî MUSN Transport Baseline [‚û∞/Âèå üéë/‰∫Ü]
  :maturity :active
  :owner :futon3
  :actual-status :active
  :depends-on []
  :evidence-for-active [Transport running 90+ days; event logging operational; pattern checks flow through router]

  + context: FUTON3 rides the MUSN transport (WS+HTTP bus, SAFE/ADMIN REPL, NDJSON ingest) for pattern-related checking.
  + IF: You want an execution substrate where pattern obligations can be posed, evaluated, and recorded with deterministic transcripts
  + HOWEVER: Without frozen contracts, check jobs cannot rely on stable log formats
  + THEN: Freeze the transport contract for pattern-apply, gap-report, and trail-capture; provide golden transcripts; version the sandbox profile as the canonical proofwork runtime
  + BECAUSE: Flexiformal checking needs a stable log format before any higher-layer reasoning can rely on it

  + EVIDENCE:
    evidence[docs/protocol.md documents transport contracts]
    evidence[docs/protocol/transport-contract-v1.md freezes check-job contract]
    evidence[docs/protocol/golden-transcripts.md lists golden transcript fixtures]
    evidence[src/f2/router.clj implements event routing]
    evidence[test/f2/router_test.clj has 100-event idempotency + acceptance tests]
    evidence[test/f2/transport_golden_test.clj replays golden transcripts]
    evidence[test/fixtures/transport/golden-check-request.ndjson anchors deterministic transcripts]
    evidence[test/transport_test.clj covers per-client disconnect logging]

  + NEXT-STEPS:
    next[Wire golden transcript replay into CI]
    next[Document sandbox profile as canonical proofwork runtime]

  :success-criteria
    pass[Transport contract frozen and versioned]
    pass[Golden transcripts reproducible from sandbox profile]
    pass[Check jobs have stable log formats]
    fail[Contract changes break downstream consumers]

  :psr-example "Selected MUSN transport for check jobs because stable IO contracts enable reproducible proofwork"
  :pur-template "Transport event {{type}}, client: {{client}}, logged: {{yes|no}}"


! instantiated-by: Prototype 1 ‚Äî Pattern Canon & Standard Library [üê∫/Êú¨ ‚û∞/‰∏ñ]
  :maturity :active
  :owner :futon3
  :actual-status :active
  :depends-on [f1/P0]
  :evidence-for-active [Pattern store operational in futon1; ingest working; tests pass]

  + context: A flexiarg/pattern library exists but was scattered across files.
  + IF: You want FUTON3 to curate patterns with metadata, linking obligations, and proof status
  + HOWEVER: Without a canonical store, the checker has nothing trustworthy to compare against
  + THEN: Stand up f3.patterns store (ID, clauses, references, pƒÅramitƒÅ tags, fruits/orbs weights) in futon1 storage; keep in sync with filesystem devmaps as "checked out working copy"
  + BECAUSE: Pattern-based inference requires stable, addressable patterns that can be inspected and edited across the stack

  + EVIDENCE:
    evidence[Pattern store working in futon1 with ingest]
    evidence[resources/pattern_store.edn maintains catalog]
    evidence[src/futon3/pattern_store.clj implements store API]
    evidence[test/pattern_store_test.clj verifies sync with README references]
    evidence[library/coordination/*.flexiarg is the authoritative coordination library (consumed by futon3b)]
    evidence[futon3b/src/futon3/gate/canon.clj writes new patterns from evidence (glacial loop)]

  + NEXT-STEPS:
    next[Add golden test proving store loads and enumerates all pattern IDs]
    next[Add golden test asserting metadata completeness (ID, clauses, refs, tags, weights)]
    next[Verify pattern store matches standard library with no omissions]

  :success-criteria
    pass[Pattern store loads at runtime with stable set of IDs]
    pass[Each pattern has required metadata and valid source links]
    pass[Store matches filesystem library exactly]
    fail[Patterns only exist on disk, not accessible to stack]

  :psr-example "Selected pattern canon for check DSL because addressable patterns enable programmatic checking"
  :pur-template "Pattern {{id}} loaded, clauses: {{count}}, tags: {{tags}}"


! instantiated-by: Prototype 2 ‚Äî Coordination Gate Pipeline (G5‚ÜíG0) [üåΩ/Êú´ ‚û∞/Âπø]
  :maturity :active
  :owner :futon3b
  :actual-status :active
  :depends-on [f3/P0, f3/P1]
  :implemented-as [futon3.gate.* (in futon3b)]
  :evidence-for-active [Gate pipeline (G5‚ÜíG0) enforces PSR‚Üíexec‚ÜíPUR‚Üídurability; typed evidence + structured rejections; futon3b test suite passes]

  + context: FUTON3‚Äôs former "check DSL" role is now the coordination boundary: all task execution is routed through mandatory gates that emit typed evidence.
  + IF: You want a declarative, enforceable boundary that turns messy tasks into auditable records
  + HOWEVER: When pattern selection, execution, validation, and persistence are scattered, the system cannot enforce "no work runs without PSR" or "no success before durability"
  + THEN: Implement the six-gate pipeline (G5‚ÜíG0) as the primary coordination/check mechanism:
    - G5 validates TaskSpec and binds intent to mission + success criteria
    - G4 authorizes an agent and records Assignment
    - G3 requires PSR (or gap declaration) and checks pattern existence
    - G2 runs bounded execution (or passthrough) and registers Artifact
    - G1 produces PUR by evaluating success criteria
    - G0 gates success on durability and requires PAR; emits a proof-path
  + BECAUSE: This is the minimal checkable structure that produces auditable, replayable proof-paths that other futons can learn from

  + EVIDENCE:
    evidence[library/coordination/ARGUMENT.flexiarg (gate pipeline argument)]
    evidence[futon3b/src/futon3/gate/pipeline.clj composes G5‚ÜíG0]
    evidence[futon3b/src/futon3/gate/shapes.clj defines typed evidence boundary]
    evidence[futon3b/src/futon3/gate/errors.clj defines structured rejections]
    evidence[futon3b/test/futon3/gate/pipeline_test.clj verifies gate behavior + durable proof-paths]
    evidence[futon3b/AGENTS.md records verification results and acceptance checklists]
    evidence[src/futon3/checks.clj remains as legacy check! DSL (superseded by gate pipeline)]

  + NEXT-STEPS:
    next[Wire futon3 transport/entrypoints to futon3b gate pipeline without weakening "first failing gate wins"]
    next[Integrate futon3a similarity/portal search into G3 pattern selection]

  :success-criteria
    pass[Every task either produces a durable proof-path or a structured rejection]
    pass[G3 enforces PSR (or gap) before execution]
    pass[G1 enforces PUR (criteria evaluation) before acknowledging success]
    pass[G0 enforces durability (proof-path persisted)]
    fail[Work runs without PSR/PUR or without a durable audit trail]

  :psr-example "Selected gate pipeline for coordination because mandatory, typed gates make proof obligations enforceable"
  :pur-template "Gate run {{task}}, result: {{ok|reject}}, proof-path: {{path-id}}"


! instantiated-by: Prototype 3 ‚Äî Proof-Path Store (Durable Journal) [‚û∞/Âèå]
  :maturity :active
  :owner :futon3b
  :actual-status :active
  :depends-on [f3/P2]
  :implemented-as [futon3b.query.relations/append-proof-path! + data/proof-paths/*.edn]
  :evidence-for-active [Proof-path EDN files persisted per run; load + query supported; L1 observes proof-paths for tensions; rejections also persisted]

  + context: FUTON3 needs an auditable, replayable journal of what happened at the coordination boundary.
  + IF: You want every accepted run (and key early rejections) to leave a durable, typed audit trail
  + HOWEVER: Trails/tatami logs are not a typed boundary and are hard to query as evidence
  + THEN: Persist a proof-path as a typed sequence of gate events (TaskSpec, Assignment, PSR, Artifact, PUR, PAR, plus L1 observations/canonizations and structured rejections) and store it durably as EDN
  + BECAUSE: Proof-paths are the minimum unit of auditability and the input to glacial library evolution

  + EVIDENCE:
    evidence[futon3b/src/futon3b/query/relations.clj implements append-proof-path! + load/search]
    evidence[futon3b/data/proof-paths/ durable proof-path store (EDN files)]
    evidence[futon3b/test/futon3/gate/pipeline_test.clj durable sink writes proof-paths]
    evidence[futon3b/test/futon3/gate/level1_test.clj L1 observes pressures from persisted rejections]
    evidence[resources/tatami-events.edn remains as legacy session capture (not the primary typed journal)]

  + NEXT-STEPS:
    next[Standardise proof-path ‚Üí futon1 (graph) and futon2 (viriya) exports on top of the typed store]

  :success-criteria
    pass[Proof-path persisted durably for each successful run]
    pass[Key early-gate rejections are persisted as typed GateRejection records]
    pass[Proof-paths queryable (load + search)]
    fail[Work cannot be replayed/audited from durable evidence]

  :psr-example "Selected proof-path store because a typed, durable journal enables audit and glacial learning"
  :pur-template "Proof-path {{path-id}}, events: {{count}}, persisted: {{yes|no}}"


! instantiated-by: Prototype 4 ‚Äî Workday Instrumentation [‚û∞/Ê≠¢ ‚åõÔ∏è/‰∫Ü]
  :maturity :active
  :owner :futon3
  :actual-status :active
  :depends-on [f3/P2]
  :evidence-for-active [workday/submit endpoint operational; aob-chatgpt bridge working]

  + context: aob-chatgpt and fubar.el instrument user interactions for pattern checking.
  + IF: You want FUTON3 to serve as backend for daily reflections
  + HOWEVER: Without official API, workday claims cannot flow through check pipeline
  + THEN: Publish workday/submit endpoint (timestamp, activity, evidence links); run through the coordination boundary (gate pipeline) + embedding; respond with pattern hits/misses and follow-up obligations
  + BECAUSE: This is how empowered action becomes measurable proof progress

  + EVIDENCE:
    evidence[src/futon3/workday.clj implements workday intake]
    evidence[src/f2/transport.clj exposes /musn/workday/submit HTTP endpoint]
    evidence[docs/api/musn.yaml documents /musn/workday/submit]
    evidence[test/transport_test.clj covers workday submission]
    evidence[README documents workday API]

  + NEXT-STEPS:
    next[Replace futon3/logs/workday.edn queue with futon1 persistence (workday->graph)]
    next[Integrate fubar.el alongside aob-chatgpt]

  :success-criteria
    pass[Workday claims flow through check DSL]
    pass[Pattern hits/misses returned with follow-up obligations]
    pass[Both aob-chatgpt and fubar.el can submit]
    fail[Workday claims bypass pattern checking]

  :psr-example "Selected workday instrumentation for aob-chatgpt because daily practice needs pattern feedback"
  :pur-template "Workday submit {{timestamp}}, patterns matched: {{count}}, obligations: {{new}}"


! instantiated-by: Prototype 5 ‚Äî Similarity Field [üåÇ/Áî≤ üëÇ/ÂΩí]
  :maturity :active
  :owner :futon3a
  :actual-status :active
  :depends-on [f3/P1]
  :evidence-for-active [futon3a provides pattern indexing with GloVe/fastText/MiniLM embeddings; portal queries operational]

  + context: Sigil-distance and GloVe embeddings enable pattern suggestions.
  + IF: You want reproducible neighbourhood queries for pattern suggestions
  + HOWEVER: Embeddings live in futon3a, not wired into FUTON3 APIs
  + THEN: Integrate sigil-distance matrix and GloVe embeddings as first-class service (pattern search API, nearest-patterns command, CLI/UI views); publish tests proving deterministic neighbourhoods
  + BECAUSE: Pattern suggestion quality underpins the flexiformal workflow

  + EVIDENCE:
    evidence[Sigil-distance matrix exists in CSVs]
    evidence[GloVe embeddings available]
    evidence[futon3a/scripts/index_patterns.sh builds notions index with GloVe/fastText/MiniLM]
    evidence[futon3a/scripts/portal provides pattern search and suggest commands]
    evidence[futon3a/docs/pattern-indexing.md documents embedding pipeline]
    evidence[src/futon3/pattern_hints.clj exposes nearest-patterns helper]
    evidence[scripts/nearest-patterns provides nearest-patterns command]
    evidence[fucodex/fuclaude route nearest-patterns subcommand]

  + NEXT-STEPS:
    next[Integrate futon3a portal into futon3 HUD server for pattern suggestions]
    next[Wire futon3a embeddings into futon3 pattern search API]
    next[Publish deterministic neighbourhood tests]
    next[Unify futon3 and futon3a pattern stores or establish clear bridge]

  :success-criteria
    pass[Pattern search API returns nearest patterns]
    pass[Neighbourhoods deterministic across runs]
    pass[Both sigil-distance and GloVe queryable]
    fail[Pattern suggestions require manual lookup]

  :psr-example "Selected similarity field for pattern discovery because neighbourhood queries enable exploration"
  :pur-template "Similarity query {{pattern}}, neighbours: {{count}}, method: {{sigil|glove}}"


! instantiated-by: Prototype 6 ‚Äî Intent Embedding & Proof Typing [‚û∞/Âèå üçç/Âäû]
  :maturity :greenfield
  :owner :futon3a
  :actual-status :greenfield
  :depends-on [f3/P3]
  :evidence-for-active [Intent‚Üívec pipeline operational; fruit/orb types assigned to proof steps]

  + context: Trails record patterns but don't type proof steps as constructive operations.
  + IF: You want to distinguish "this is a check" from "this is an indicator preserving a virtue invariant"
  + HOWEVER: Current schema has no machinery to interpret intent‚Üípattern reasoning as typed proof steps
  + THEN: Define intent‚Üívec pipeline mapping :trail/intent + :pattern/reasoning to (fruit, orb) pairs where fruits encode operator classes and orbs encode meta-properties; compute :rule/salience; write back to trail events
  + BECAUSE: In Kolmogorov's sense, a proof is a construction; typing steps like "indicator‚Üívirtue-aligned" lets you see what kind of proof work actually happened

  + EVIDENCE:
    evidence[Cue embedding tests show keyword payloads round-trip]
    evidence[resources/paramita-grid.edn provides gold set for fruit/orb recovery]

  + NEXT-STEPS:
    next[Generalise cue embedding to operate on intent + reasoning tuples]
    next[Calibrate fruit/orb basis on manually typed patterns]
    next[Wire enriched trail export into rollups]
    next[Add HUD affordances to filter by proof type]

  :success-criteria
    pass[Each trail step typed as (fruit, orb) pair]
    pass[Salience scores computed for proof steps]
    pass[Rollups show proof types that fired per day]
    fail[Proof steps remain untyped]

  :psr-example "Selected intent embedding for proof typing because Kolmogorov-style types enable meta-reasoning"
  :pur-template "Intent embed {{step}}, fruit: {{fruit}}, orb: {{orb}}, salience: {{score}}"


! instantiated-by: Prototype 7 ‚Äî Pattern Creation Workbench [üëç/Â∑≤]
  :maturity :active
  :owner :futon3b
  :actual-status :partial
  :depends-on [f3/P3]
  :evidence-for-active [Minimal workbench implemented as L1 canonicalizer (tension ‚Üí canonization ‚Üí .flexiarg write); full clustering/summariser still pending]

  + context: New patterns emerge from accumulated proof-path evidence; manual capture creates backlog and stalls convergence.
  + IF: You want FUTON3 to draft and land candidate patterns from accumulated evidence
  + HOWEVER: Without a glacial "canonicalizer" loop, pattern gaps remain narrative and do not become constraints
  + THEN: Use L1 canonicalization (Baldwin cycle) to write minimal flexiargs from recurring tensions, and treat richer clustering/summariser output as a later enhancement
  + BECAUSE: Library evolution must be evidence-driven and must close the constraint loop (glacial ‚Üí glacial)

  + EVIDENCE:
    evidence[futon3b/src/futon3/gate/observe.clj observes tensions from proof-paths]
    evidence[futon3b/src/futon3/gate/canon.clj writes new .flexiarg patterns (and refuses overwrite)]
    evidence[futon3b/test/futon3/gate/level1_test.clj full-loop-round-trip proves canonization produces a usable pattern]
    evidence[Flexiarg format documented]

  + NEXT-STEPS:
    next[Add richer pattern drafts (titles/keywords/examples) without weakening typed evidence boundary]
    next[Add readiness criteria + steward review workflow for promoting drafts]

  :success-criteria
    pass[Summariser emits draft flexiargs from trails]
    pass[Drafts tagged with suggested pƒÅramitƒÅ]
    pass[Readiness criteria declared and enforced]
    fail[Pattern creation remains fully manual]

  :psr-example "Selected pattern workbench for library growth because automated drafts reduce manual burden"
  :pur-template "Workbench draft {{id}}, sources: {{trail_count}}, readiness: {{status}}"


! instantiated-by: Prototype 8 ‚Äî Joy Metrics [‚åõÔ∏è/Âäõ ‚ö°Ô∏è/‰∫å]
  :maturity :greenfield
  :owner :futon3c
  :actual-status :greenfield
  :depends-on [f3/P3, f3/P4]
  :evidence-for-active [Joy metrics computed per session; provided to futon0]

  + context: Joy = Spinozan increase in power to act, evidenced by commitments you can now keep.
  + IF: You want metrics showing whether checks are empowering or draining
  + HOWEVER: Current metrics counted UI friction, not proofs discharged
  + THEN: Track time-to-proof, obligations-cleared, follow-on commitments, viriya linkages per session; visualise alongside subjective notes; provide to futon0
  + BECAUSE: Empowered action is the KPI for this futon

  + EVIDENCE:
    evidence[Session data available from trails]
    evidence[Obligation tracking in check DSL]
    evidence[library/realtime/*.flexiarg specifies the social/realtime loop that joy metrics should be surfaced into]

  + NEXT-STEPS:
    next[Define joy metric formulas]
    next[Implement per-session computation]
    next[Wire metrics to futon0]
    next[Add visualization alongside subjective notes]

  :success-criteria
    pass[Joy metrics computed per session]
    pass[Metrics provided to futon0]
    pass[Visualizations show empowerment trends]
    fail[Joy unmeasured or disconnected from futon0]

  :psr-example "Selected joy metrics for empowerment tracking because pƒ´ti factor requires measurable progress"
  :pur-template "Joy session {{id}}, time-to-proof: {{ms}}, cleared: {{count}}, commitments: {{new}}"


! instantiated-by: Prototype 9 ‚Äî Proof Hooks (futon1/futon2 Export) [‚ö°Ô∏è/‰∫å üôÖ/‰πÉ]
  :maturity :greenfield
  :owner :futon3b
  :actual-status :greenfield
  :depends-on [f3/P2, f1/P0, f2/P6]
  :evidence-for-active [proof‚Üígraph materialises relations; proof‚Üíenergy emits viriya deltas]

  + context: FUTON3 generates proof states; futon1 (graph) and futon2 (viriya) need them as fuel.
  + IF: You want every accepted check to become a graph relation and viriya delta automatically
  + HOWEVER: Current exports are bespoke scripts
  + THEN: Standardise proof‚Üígraph (materialise relations with provenance) and proof‚Üíenergy (emit activation deltas); lock with fixtures + schemas
  + BECAUSE: Proofs only matter when other futons can act on them

  + EVIDENCE:
    evidence[Tatami events available for export]
    evidence[futon1 graph-memory API operational]
    evidence[futon2 pivot streams accept deltas]

  + NEXT-STEPS:
    next[Wire tatami event log into futon1 via tatami_store.clj]
    next[Standardise proof‚Üígraph adapter with fixtures]
    next[Standardise proof‚Üíenergy adapter with fixtures]
    next[Document export schemas]

  :success-criteria
    pass[Accepted checks become graph relations automatically]
    pass[Viriya deltas emitted for futon2 dashboards]
    pass[Adapters locked with fixtures and schemas]
    fail[Export requires manual scripting]

  :psr-example "Selected proof hooks for cross-futon integration because automated export enables composition"
  :pur-template "Proof export {{check}}, graph relations: {{rels}}, viriya delta: {{delta}}"


! instantiated-by: Prototype 10 ‚Äî Flexiformal Training Ground [üö¢/Ê∞è üö¥/Êú™]
  :maturity :greenfield
  :owner :futon3c
  :actual-status :greenfield
  :depends-on [f3/P2, f3/P3]
  :evidence-for-active [Training ground packaged; tutorials complete; simulator recorded]

  + context: FUTON3 needs a reproducible training ground for flexiformal practice.
  + IF: You want collaborators (including FUTON6 math stewards) to experience the proof workflow
  + HOWEVER: No packaged simulator/tutorial bundle exists
  + THEN: Package "Flexiformal Training Ground" release: tutorials referencing t4r/ patterns, sample check sessions, minimal simulator feeding FUTON6's Hyperreal entries; name facilitators and consumers; publish readiness criteria
  + BECAUSE: Training ground turns FUTON3 into a reproducible service for upstream layers

  + EVIDENCE:
    evidence[Check DSL operational for training]
    evidence[Trail capture available for transcripts]
    evidence[library/realtime/*.flexiarg defines the realtime patterns future trainees will encounter (social loop)]

  + NEXT-STEPS:
    next[Write tutorials referencing t4r/ patterns]
    next[Record sample check sessions]
    next[Build minimal simulator for FUTON6]
    next[Aggregate proof events into proof-chain.edn]

  :success-criteria
    pass[Training ground packaged with tutorials]
    pass[Sample sessions reproducible]
    pass[Simulator feeds FUTON6 entries]
    fail[Training requires undocumented setup]

  :psr-example "Selected training ground for onboarding because reproducible practice enables collaboration"
  :pur-template "Training session {{id}}, checks: {{count}}, transcript: {{path}}"


! instantiated-by: Prototype 11 ‚Äî System Self-Description [üîÉ/Êú¨]
  :maturity :greenfield
  :owner :futon5
  :actual-status :partial
  :depends-on [f3/P1, f1/P0]
  :evidence-for-active [Manifest schema defined; stack components queryable in futon1]

  + context: Documentation and APIs exist as separate artifacts that humans must correlate.
  + IF: You want agents to query the system about its own capabilities
  + HOWEVER: No machine-readable manifest makes components first-class entities
  + THEN: Unify documentation and APIs into machine-readable manifest; make stack components first-class entities in futon1; enable agents to query capabilities and self-verify structure
  + BECAUSE: This closes the reflexivity loop‚Äîa semantic network that includes a model of itself

  + EVIDENCE:
    evidence[futon4/docs/evidence/rc-1.1-evidence.edn seeds machine-readable claim map]

  + NEXT-STEPS:
    next[Expand evidence map into manifest schema (components, interfaces, invariants)]
    next[Ingest manifest into futon1]
    next[Enable agents to query stack capabilities]
    next[Add self-verification of running system vs declared structure]

  :success-criteria
    pass[Manifest schema covers all stack components]
    pass[Components queryable as futon1 entities]
    pass[Running system verifiable against manifest]
    fail[Self-description requires manual correlation]

  :psr-example "Selected self-description for reflexivity because queryable structure enables agent reasoning"
  :pur-template "Manifest query {{component}}, interfaces: {{count}}, verified: {{yes|no}}"
