@flexiarg futon-theory/futonic-logic
@title Futonic Logic: Vocabulary, Composition, and the Recognition Loop
@sigils [ğŸ§‚/é¹½]
@keywords futonic, logic, composition, articulation, salience, evaluation, regulator, individuation, s-expression
@audience futon developers, pattern theorists, war room
@tone analytic-foundational
@factor Keen investigation (dhammavicaya)
@style specification
@references [futon-theory/symbolic-individuation futon-theory/four-types futon-theory/theory-as-exotype futon-theory/structural-tension-as-observation futon-theory/retroactive-canonicalization futon-theory/baldwin-cycle futon-theory/proof-path futon-theory/agent-contract]

! conclusion:
  Futonic logic specifies the vocabulary, composition rules, and recognition
  loop that futon-theory patterns presuppose. It does not replace the patterns;
  it makes explicit the symbolic operations they perform implicitly. The
  central insight: composition (é¹½) is not concatenation but the recognition
  that latent potential (é¹µ) and stabilizing interface (çš¿) are available
  under the same decomposition regime (éƒ¨). The futonic loop â€” input, decompose,
  articulate, compose, sense, regulate, act, evaluate â€” is the abstract form
  of the PSRâ†’PUR cycle and the derivation xenotype alike.

  == 0. META-SYNTAX ==

  â¿± denotes top-bottom composition in glyph space. Futonically, it
  corresponds to a binary articulation whose abstract form is (CAR . CDR):

  (meta-syntax
    (â¿±
      (role layout-operator)
      (maps-to cons)
      (explanation
        "â¿± denotes top-bottom composition in glyph space;
         futonically, it corresponds to a binary articulation
         whose abstract form is (CAR . CDR).")))

  This does NOT assert that all composition is binary. It asserts only: when
  â¿± appears, interpret it as a historically successful binary articulation,
  abstractable as a cons pair. Triads, polycentric forms, and n-ary
  decompositions operate under other éƒ¨.

  == 1. VOCABULARY ==

  Core symbols declared as roles, not definitions. Premature semantic collapse
  is the vocabulary equivalent of forward-declaration debt (social/verify-
  before-compose): fixing meaning before structure is verified produces
  symbols that cannot compose.

  (vocabulary
    (è±¡  (role configuration)
         (note "A structured whole that can be referenced without full
                expansion. First-class, carryable, transformable."))
    (éƒ¨  (role decomposition-regime)
         (note "A chosen regime of articulation, not an ontological given.
                Arity-variable: binary, triadic, polycentric."))
    (å’…  (role articulation)
         (note "The act of making a decomposition explicit. Not analysis
                (which presumes correctness) but perception of structure
                already present."))
    (é¦™  (role embodied-salience)
         (note "Cross-layer perception that signals without full
                formalization. Agent-relative. Defeasible."))
    (å‘³  (role embodied-evaluation)
         (note "Selection by felt difference rather than proof. The
                evaluative counterpart of é¦™."))
    (é¹½  (role generative-composition)
         (note "Composition that generates: not mere juxtaposition but
                the recognition that potential and container are available
                under the same éƒ¨."))
    (é¹µ  (role latent-substrate)
         (note "Manipulable potential. What can be transformed if a çš¿
                is available to receive the result."))
    (çš¿  (role stabilizing-container)
         (note "Interface, vessel, boundary. What receives and stabilizes
                the product of transformation."))
    (æœªçŸ¥ (role non-equilibrium-interval)
         (note "Actionable but not predictable. Three-valued logic:
                the system is neither in its prior state nor in its
                successor state."))
    (éæ­»éæ´» (role non-terminal-state)
         (note "System is responsive but not self-sustaining. Equivalent
                to æœªçŸ¥ at the lifecycle level."))
    (ğŸ”®  (role regulator)
         (note "Capacity to act within æœªçŸ¥ while modulating action
                amplitude. Components: èƒ½ (capacity) + æ¨ (setting-down).")))

  == 2. COMPOSITIONAL STRUCTURE ==

  2.1 è±¡ and éƒ¨:

  (è±¡
    (status first-class)
    (properties (carryable transformable))
    (note "A structured whole that can be referenced without full expansion."))

  (éƒ¨
    (function bounded-decomposition)
    (arity-variable true)
    (examples (binary triadic polycentric))
    (note "A chosen regime of articulation, not an ontological given."))

  2.2 é¹½ as composition:

  (é¹½
    (structure (â¿± é¹µ çš¿))
    (abstract-form (cons é¹µ çš¿))
    (interpretation
      (é¹µ (latent manipulable potential))
      (çš¿ (interface container stabilizer)))
    (constraint
      "Generativity requires both terms to be available under the same éƒ¨."))

  2.3 Salience as the appearance of é¹½:

  (compositional-salience
    (depends-on é¹½)
    (definition
      "Agent-relative perception that a (é¹µ . çš¿) decomposition
       is presently actionable."))

  (A7
    (if (exists (é¹½ (â¿± é¹µ çš¿))))
    (and (perceivable é¹µ) (perceivable çš¿))
    (then (salience emerges))
    (else (generativity remains inert)))

  2.4 é¦™ and å‘³:

  (é¦™
    (role cross-layer-perception)
    (function "Signals salience without full formalization."))

  (å‘³
    (role embodied-selection)
    (function "Evaluates articulations by felt difference rather than proof."))

  2.5 ğŸ”® and æ¨:

  (ğŸ”®
    (components (èƒ½ æ¨))
    (function regulator)
    (definition
      "Capacity to act within æœªçŸ¥ while modulating action amplitude."))

  (æ¨
    (operation set-down)
    (precondition (has ğŸ”®))
    (effect
      "Reduce deployed capacity to limit harm while preserving
       reversibility."))

  2.6 æœªçŸ¥ and éæ­»éæ´»:

  (æœªçŸ¥
    (state non-equilibrium)
    (logic three-valued)
    (properties (actionable not-predictable)))

  (éæ­»éæ´»
    (equivalence æœªçŸ¥)
    (note "System is responsive but not self-sustaining."))

  == 3. THE FUTONIC LOOP ==

  (futonic-loop
    (input è±¡)
    (choose éƒ¨)
    (articulate å’…)
    (if (forms (é¹½ (â¿± é¹µ çš¿))))
    (and (sense é¦™) (regulate ğŸ”®))
    (then
      (act-within æœªçŸ¥)
      (evaluate å‘³))
    (else
      (apply æ¨)))

  == 4. GROUNDING IN ACTUAL USAGE ==

  Every symbol in the vocabulary has been used (implicitly or explicitly)
  across futon missions. This section makes those uses explicit. The logic
  is practical because we have been practising it.

  4.1 è±¡ â€” Configuration

  | Context | è±¡ instance | Evidence |
  | Wiring diagram | coordination-exotype.edn | A structured whole: 6 inputs, 6 outputs, 10 components, 30 edges. Referenceable as ":coordination-exotype" without expansion. |
  | Flexiarg pattern | mandatory-psr.flexiarg | A structured whole: conclusion, context, IF/HOWEVER/THEN/BECAUSE. Carryable by pattern-id. |
  | Proof path | gate pipeline output | A structured whole: linked PSRâ†’PURâ†’PAR chain. Transformable (L1 scans it for tensions). |
  | Session | Claude Code session | A structured whole: context, tools, history. Compresses (compaction) but remains referenceable. |

  4.2 éƒ¨ â€” Decomposition Regime

  | Context | éƒ¨ instance | Evidence |
  | Three-futon split | timescale decomposition | éƒ¨ = timescale boundaries (social/task/glacial). Not chosen but perceived (symbolic-individuation). |
  | Gate pipeline | six-gate decomposition | éƒ¨ = the six gates G5â†’G0. Binary at each gate (pass/reject), hexadic in composition. |
  | Derivation xenotype | six-step decomposition | éƒ¨ = IDENTIFYâ†’MAPâ†’DERIVEâ†’ARGUEâ†’VERIFYâ†’INSTANTIATE. Sequential, not arbitrary. |
  | Baldwin cycle | triadic decomposition | éƒ¨ = NAMINGâ†’SELECTIONâ†’CANALIZATION. Three phases, not two or four. |

  4.3 å’… â€” Articulation

  | Context | å’… instance | Evidence |
  | PSR | pattern selection | The agent makes a decomposition explicit: "I will use this pattern for this task." |
  | ARGUMENT.flexiarg | claim composition | Each S/R/T/C section articulates: makes a claim's structure visible. |
  | Mission scoping | scope in/out | The mission author articulates: what's inside, what's outside. |
  | Git commit | change articulation | The commit message articulates: what changed and why. |

  4.4 é¹½ â€” Generative Composition (é¹µ + çš¿)

  | Context | é¹µ (potential) | çš¿ (container) | é¹½ (composition) |
  | Gate pipeline | Pattern library (potential approaches) | Gate shapes (Malli schemas) | Validated proof-path (generative: produces evidence) |
  | L1 canonicalizer | Observed tensions (potential patterns) | Library format (flexiarg structure) | New pattern in library (generative: constrains future work) |
  | Social exotype | Agency/realtime patterns (potential requirements) | Wiring diagram format (edn structure) | Validated social-exotype.edn (generative: enables implementation) |
  | Session | Prior knowledge + context | PSR/PUR protocol (recording structure) | Auditable session (generative: feeds glacial loop) |

  4.5 é¦™ â€” Embodied Salience

  | Context | é¦™ instance | Evidence |
  | Pattern search | futon3a notions/compass | Signals "this pattern might apply" without proving it. ANN + GloVe similarity, not logical implication. |
  | Hotword matching | patterns-index.tsv hotwords | "deliver" fires on "delivery-receipt" â€” salience signal, not identification. |
  | Tension scanning | L1-observe structural-irritation | "This gap-PSR has appeared 3 times" â€” cross-layer perception that something recurs, without naming what. |
  | Git archaeology | commit pattern recognition | "These 5 commits all fix forward-declarations" â€” perceiving a pattern before it has a name. |

  4.6 å‘³ â€” Embodied Evaluation

  | Context | å‘³ instance | Evidence |
  | PUR | pattern use record | Evaluates by outcome (prediction-error), not by proof. "Did using this pattern help?" is å‘³, not formal verification. |
  | Mana bins | sospeso confidence bins | p âˆˆ {0.3, 0.6, 0.8, 0.95} â€” discrete bins to "reduce self-deception." Evaluation by felt confidence, not computed probability. |
  | ct/mission.clj | 8/8 checks pass | Evaluation by structural test, not semantic proof. The diagram is well-formed; whether it's the right diagram is å‘³. |
  | Code review | Codex review comments | "This could be more defensive" â€” evaluative judgement, not provable claim. |

  4.7 ğŸ”® â€” Regulator (èƒ½ + æ¨)

  | Context | èƒ½ (capacity) | æ¨ (setting-down) | ğŸ”® (regulation) |
  | Sospeso protocol | Confidence p Â· C spent on action | (1-p) Â· C donated to pool + blast radius note | Proceed at lower confidence with bounded harm |
  | Gate rejection | Pipeline can process the request | Gate rejects with typed error + gate attribution | Fail fast, preserve reversibility |
  | Mission parking | Team could continue the subsystem | :active â†’ :blocked with recorded blocker | Explicit exit over silent abandonment |
  | Context compaction | LLM has N tokens of context | Older context compressed to summary | Continue operating with reduced but sufficient state |

  4.8 æœªçŸ¥ / éæ­»éæ´»

  | Context | Instance | Evidence |
  | Abandoned missions | Forum: 8 commits, no exit, no :blocked | Neither done (:done) nor explicitly blocked (:blocked). Responsive to git log but not self-sustaining. |
  | Sospeso interval | Between action and verification | The action has been taken (at p < 0.95) but outcome is not yet verified. System is in æœªçŸ¥. |
  | futon3c pre-implementation | ARGUMENT written, exotype validated, no code | The social loop is specified but not instantiated. Non-equilibrium: the argument creates obligations the code hasn't satisfied. |
  | Context boundary | Between session compaction and new turn | The LLM has lost detailed context but retains summary. Actionable but not fully predictable. |

  == 5. THE FUTONIC LOOP IN PRACTICE ==

  The abstract loop (Â§3) maps onto three concrete cycles:

  5.1 PSRâ†’PUR cycle (per-task):

  (futonic-loop
    (input   è±¡  := task request entering the gate pipeline)
    (choose  éƒ¨  := select decomposition: which gate, which timescale)
    (articulate å’… := write PSR: choose a pattern, commit to an approach)
    (if (forms é¹½) := pattern (é¹µ) + evidence shape (çš¿) compose)
    (and (sense é¦™) := during execution, perceive whether it's working)
    (and (regulate ğŸ”®) := stay within budget, reject if budget exceeded)
    (then
      (act-within æœªçŸ¥ := execute under uncertainty)
      (evaluate å‘³ := write PUR: evaluate outcome by felt difference))
    (else
      (apply æ¨ := reject at gate, park mission, write PAR)))

  5.2 Derivation xenotype (per-mission):

  (futonic-loop
    (input   è±¡  := domain to be derived: "social coordination")
    (choose  éƒ¨  := IDENTIFY the decomposition regime: git archaeology,
                    pattern audit, devmap review)
    (articulate å’… := MAP + DERIVE: articulate patterns and requirements
                    from the evidence)
    (if (forms é¹½) := ARGUE: requirements (é¹µ) + argument structure (çš¿)
                    compose into a valid case)
    (and (sense é¦™) := during argument construction, perceive convergences)
    (and (regulate ğŸ”®) := VERIFY: check invariants, validate diagrams)
    (then
      (act-within æœªçŸ¥ := INSTANTIATE: build the code)
      (evaluate å‘³ := tests pass, 8/8 checks, round-trip proof))
    (else
      (apply æ¨ := park mission, record blocker, explicit exit)))

  5.3 Glacial loop (per-library-evolution):

  (futonic-loop
    (input   è±¡  := accumulated proof paths from many tasks)
    (choose  éƒ¨  := L1-observe: which tension criterion to scan?
                    structural-irritation / pre-symbolic-pressure /
                    trans-situational-reappearance)
    (articulate å’… := name the tension: a recurring pattern emerges)
    (if (forms é¹½) := tension observation (é¹µ) + flexiarg format (çš¿)
                    compose into a candidate pattern)
    (and (sense é¦™) := does this tension appear across contexts?)
    (and (regulate ğŸ”®) := does it meet the canonicalization threshold?
                    frequency >= 3, contexts >= 2)
    (then
      (act-within æœªçŸ¥ := write new flexiarg to library)
      (evaluate å‘³ := subsequent G3 accepts the new pattern))
    (else
      (apply æ¨ := tension does not meet threshold, record but do not
                    canonicalize)))

  == 6. RELATIONSHIP TO EXISTING PATTERNS ==

  | This specification | Existing pattern | Relationship |
  | è±¡ as first-class configuration | symbolic-geodesic | è±¡ IS the structured whole that geodesics traverse |
  | éƒ¨ as decomposition regime | symbolic-individuation | éƒ¨ IS the regime under which compound symbols individuate |
  | é¹½ = (â¿± é¹µ çš¿) | symbolic-individuation Â§THE-FUTONIC-VIEW | Same structural analysis, now formalized as composition rule |
  | é¦™ as cross-layer perception | structural-tension-as-observation | é¦™ IS the pre-symbolic pressure before tension is named |
  | å‘³ as embodied evaluation | retroactive-canonicalization | å‘³ IS the selection criterion in the Baldwin cycle |
  | ğŸ”® = (èƒ½ . æ¨) | sospeso protocol (futon5/AGENTS.md) | ğŸ”® IS the regulator that the sospeso protocol implements |
  | æœªçŸ¥ / éæ­»éæ´» | explicit-exit-over-abandonment | éæ­»éæ´» IS the zombie-mission state that the pattern diagnoses |
  | futonic-loop | proof-path event-protocol | The loop IS the abstract form of CLOCK_IN â†’ ... â†’ CLOCK_OUT |

  == 7. AXIOM A7: COMPOSITIONAL SALIENCE ==

  The existing axioms (A1-A5) are operational. A7 is perceptual:

  (A7
    (if (exists (é¹½ (â¿± é¹µ çš¿))))
    (and (perceivable é¹µ) (perceivable çš¿))
    (then (salience emerges))
    (else (generativity remains inert)))

  In operational terms: a pattern library (é¹µ) and a recording protocol (çš¿)
  may both exist without generating anything â€” until an agent perceives that
  they compose under the current decomposition regime (éƒ¨). Salience is the
  moment of that perception. The gate pipeline does not create salience;
  it provides the çš¿ that makes é¹µ's potential actionable. The agent's PSR
  is the å’… that recognizes the composition.

  This axiom explains why Agency/Forum/Drawbridge failed: the components
  existed (é¹µ was present) but the recording protocol did not (çš¿ was absent
  â€” no typed evidence shapes, no proof-path store). Without çš¿, composition
  could not form. Without composition, salience could not emerge. Without
  salience, the agents could not perceive when their coordination was or was
  not working. The result was éæ­»éæ´»: systems responsive but not self-
  sustaining, eventually abandoned without exit.

  == 8. BOUNDARY RULE: å‘³â†’æœª@0 ==

  When evaluation approaches a boundary, it collapses into uncertainty.
  The correct response is containment, not force.

  (rule-card å‘³â†’æœª@0
    (when (approach boundary))
    (then
      (collapse (å‘³ â†’ æœª))
      (bias-toward (æˆ’ åœ åŒ…)))
    (therefore
      (prefer (small reversible moves))
      (avoid (irreversible commits))))

  Vocabulary for the bias targets:
  - æˆ’ (jiÃ¨): precept, restraint â€” the discipline of not-acting
  - åœ (wÃ©i): enclosure, surround â€” contain the blast radius
  - åŒ… (bÄo): wrap, contain â€” package the uncertainty for later

  This rule governs the transition from the futonic loop's "evaluate"
  phase to the "else" branch. When å‘³ (embodied evaluation) reaches the
  edge of what can be evaluated with confidence, the system does not
  push through â€” it recognizes it has entered æœªçŸ¥ (non-equilibrium)
  and shifts to containment mode.

  Grounding in practice:

  | Context | Boundary | å‘³â†’æœª collapse | æˆ’/åœ/åŒ… response |
  | Sospeso | p drops below 0.95 | Evaluation becomes uncertain | Rescope-to-safety, blast radius note, reversible action only |
  | Gate rejection | G3 can't find pattern | Evaluation of approach is impossible | Typed rejection with gate attribution; don't execute |
  | Mission parking | Subsystem hits blocking failure | Evaluation of progress becomes éæ­»éæ´» | :active â†’ :blocked with recorded blocker; don't abandon silently |
  | L1 canonicalizer | Tension below threshold | Evaluation of pattern candidacy is premature | Record but do not canonicalize; wait for more evidence |
  | Context compaction | Context window approaches limit | Full evaluation of history is no longer possible | Compress to summary; preserve actionable structure, release detail |

  The rule card is the futonic dual of the sospeso protocol. The sospeso
  protocol is operational (confidence bins, mana accounting, blast radius
  notes). The rule card is structural: it says WHEN the transition happens
  (å‘³ approaches boundary) and WHAT the bias should be (æˆ’/åœ/åŒ…), without
  prescribing HOW (that's domain-specific).

  A7 says: composition requires perceiving both é¹µ and çš¿.
  å‘³â†’æœª@0 says: when you can no longer perceive clearly, stop composing
  and start containing. A7 opens the door; å‘³â†’æœª@0 knows when to close it.

  + NEXT-STEPS:
    next[Extend the vocabulary as new symbols emerge from practice â€” this specification is open, not closed]
    next[Verify that A7 is consistent with A1-A5 (no contradiction, complementary scope)]
    next[Test whether the futonic loop can serve as a template for AGENTS.md instructions]
    next[Connect to futon3a search: é¦™ operations map to notions/compass similarity queries]
