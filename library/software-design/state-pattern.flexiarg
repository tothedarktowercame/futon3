@arg software-design/state-pattern
@title State Pattern
@sigils [ğŸ§­/æ…‹]
! conclusion: ä»¥ç‹€æ…‹ç‰©ä»¶å°è£è¡Œç‚ºè½‰æ›ï¼Œé¿å…é¾å¤§åˆ†æ”¯é‚è¼¯ã€‚
  + context: An object changes its behavior based on internal state over time.
  + if: You want to avoid sprawling conditional logic inside the main object.
  + however: Centralized branching becomes brittle as new states are added.
  + then: Represent each state as its own object and delegate behavior to the active state.
  + because: State-specific logic stays localized and transitions become explicit.
  + next-steps:
    - Define a transition table and test invalid transitions explicitly.
    - evidence-shape: {:state/machine :string, :state/variants [:string], :state/transitions [:string]}
