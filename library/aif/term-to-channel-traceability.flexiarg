@flexiarg aif/term-to-channel-traceability
@title Term-to-Channel Traceability
@sigils [ðŸƒ/åŠŸ]
@audience fulab agents, aif implementers
@tone technical
@style pattern

! conclusion: Require each score term to declare the observation channels and precision settings it consumed.
  + context: A pattern-guided agent evaluates candidates with a multi-term expected free energy score built from heterogeneous evidence.
  + IF:
    You want tuning decisions and failures to be diagnosable at the level of which evidence actually drove each score term.
  + HOWEVER:
    Without explicit traceability, terms like risk or ambiguity silently absorb whatever signals are available, making post-hoc explanations indistinguishable from rationalization.
  + THEN:
    Require every G term contribution to declare the observation keys it consumed, the precision channels applied, and the intermediate values used to compute that term, and persist this mapping alongside the score.
  + BECAUSE:
    Explicit term-to-channel linkage prevents semantic drift in scoring terms and makes policy behavior mechanically inspectable.
  + NEXT-STEPS:
    - DONE: Validate PSR :aif/g-terms provenance keys (term-id, observation-keys, precision-channels, intermediate-values, final-contribution) in check-psr. Evidence: src/futon3/hx/logic.clj
    - DONE: Add (dominant-channels psr) analysis that flags when a single channel accounts for >60% of a term's value. Evidence: src/futon3/hx/logic.clj
    - DONE: Add term provenance + dominant channel summaries to fulab pattern reports. Evidence: src/futon3/fulab/pattern_competence.clj, dev/lab-pattern-report.clj
    - DONE: Emit :aif summaries in MUSN turn start/select/use responses and log them in musn_stream. Evidence: src/futon3/musn/service.clj, dev/musn_stream.clj, src/futon3/musn/schema.clj
    - BLOCKED: Define :aif/term-provenance schema in tatami_schema.clj with keys [:term-id :observation-keys :precision-channels :intermediate-values :final-contribution]. blocked-by[tatami-schema]
    - BLOCKED: Include term provenance in fulab-pattern-check CLI output for top-3 candidates. blocked-by[term-provenance-schema, fulab-pattern-check]
